#!/bin/bash -eu

wait=5
sleep $wait

tmux new-session -d
[[ $(id -u) -eq 1000 && -e /dev/kvm ]] && sudo chown $(whoami). /dev/kvm
conky -d
ibus-daemon -rxd
[[ -s "$HOME/bin/mouse-scroll" ]] && "$HOME/bin/mouse-scroll"

[[ -s "$HOME/bin/.autostart-extra-before" ]] && "$HOME/bin/.autostart-extra-before"

sleep $wait
cinnamon-screensaver-command -l

google-chrome "https://time.is"

main() {
  nohup google-chrome "https://jsx.jp" >& /dev/null &
  sleep $wait

  nohup discord >& /dev/null &
  sleep $wait

  nohup slack >& /dev/null &
  sleep $wait

  nohup terminator -l start >& /dev/null &
  sleep $wait
}
main >& /dev/null

[[ -s "$HOME/bin/.autostart-extra" ]] && "$HOME/bin/.autostart-extra"
